<mxfile host="app.diagrams.net" modified="2023-11-26T18:00:51.195Z" agent="Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36" etag="RBMbLq_3buwH4nfsOb2e" version="22.1.4" type="device">
  <diagram name="Page-1" id="ENeTMntjz2V7imXIr9zj">
    <mxGraphModel dx="1735" dy="1118" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="850" pageHeight="1100" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="I-0rG0BP2tuT0I2adMxR-1" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=none;dashed=1;" vertex="1" parent="1">
          <mxGeometry x="59.91" y="290" width="180" height="550" as="geometry" />
        </mxCell>
        <mxCell id="5gK_73Ezw2DlxVh9kkgp-1" value="Solver" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=32;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="84.91" y="300" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="5gK_73Ezw2DlxVh9kkgp-5" value="API" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=32;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="559.91" y="300" width="170" height="30" as="geometry" />
        </mxCell>
        <mxCell id="5gK_73Ezw2DlxVh9kkgp-8" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.993;exitY=0.159;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.005;entryY=0.116;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" edge="1" target="5gK_73Ezw2DlxVh9kkgp-11" source="5gK_73Ezw2DlxVh9kkgp-7">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="564.91" y="365" as="targetPoint" />
            <mxPoint x="202.41" y="365" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="5gK_73Ezw2DlxVh9kkgp-9" value="&lt;b&gt;GET&lt;/b&gt; /api/v1/task/accept&lt;br&gt;ดึงข้อมูลคิว task ล่าสุด" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="5gK_73Ezw2DlxVh9kkgp-8" vertex="1" connectable="0">
          <mxGeometry x="-0.0551" y="3" relative="1" as="geometry">
            <mxPoint x="1" y="1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="5gK_73Ezw2DlxVh9kkgp-20" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="5gK_73Ezw2DlxVh9kkgp-7" target="5gK_73Ezw2DlxVh9kkgp-16" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="5gK_73Ezw2DlxVh9kkgp-21" value="Input: XML" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="5gK_73Ezw2DlxVh9kkgp-20" vertex="1" connectable="0">
          <mxGeometry x="-0.1157" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="5gK_73Ezw2DlxVh9kkgp-7" value="Setup&lt;br&gt;&lt;font style=&quot;font-size: 9px;&quot;&gt;(Bash Script)&lt;/font&gt;" style="text;html=1;strokeColor=default;fillColor=default;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="92.41" y="345" width="105" height="125" as="geometry" />
        </mxCell>
        <mxCell id="5gK_73Ezw2DlxVh9kkgp-37" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="5gK_73Ezw2DlxVh9kkgp-11" target="5gK_73Ezw2DlxVh9kkgp-36" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="5gK_73Ezw2DlxVh9kkgp-38" value="ตรวจสอบทุก 30 นาที" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="5gK_73Ezw2DlxVh9kkgp-37" vertex="1" connectable="0">
          <mxGeometry x="-0.204" y="-2" relative="1" as="geometry">
            <mxPoint x="9" y="-2" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="RKUPudzzjGdonOOFozhR-2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=1;entryY=0.75;entryDx=0;entryDy=0;" parent="1" source="5gK_73Ezw2DlxVh9kkgp-11" target="5gK_73Ezw2DlxVh9kkgp-26" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="RKUPudzzjGdonOOFozhR-3" value="ส่งผลยืนยันการบันทึกข้อมูล" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="RKUPudzzjGdonOOFozhR-2" vertex="1" connectable="0">
          <mxGeometry x="0.6207" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="5gK_73Ezw2DlxVh9kkgp-11" value="Task Management" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fillColor=default;strokeColor=default;" parent="1" vertex="1">
          <mxGeometry x="569.91" y="350" width="150" height="130" as="geometry" />
        </mxCell>
        <mxCell id="5gK_73Ezw2DlxVh9kkgp-12" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.995;entryY=0.415;entryDx=0;entryDy=0;entryPerimeter=0;exitX=0.005;exitY=0.361;exitDx=0;exitDy=0;exitPerimeter=0;" parent="1" edge="1" target="5gK_73Ezw2DlxVh9kkgp-7" source="5gK_73Ezw2DlxVh9kkgp-11">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="560.91" y="397" as="sourcePoint" />
            <mxPoint x="199.91" y="397" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="5gK_73Ezw2DlxVh9kkgp-13" value="ส่งข้อมูลรายละเอียด Task&lt;br&gt;หรือ Not Found Exception" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="5gK_73Ezw2DlxVh9kkgp-12" vertex="1" connectable="0">
          <mxGeometry x="0.0111" y="-3" relative="1" as="geometry">
            <mxPoint y="1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="5gK_73Ezw2DlxVh9kkgp-14" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.995;exitY=0.678;exitDx=0;exitDy=0;exitPerimeter=0;" parent="1" edge="1" source="5gK_73Ezw2DlxVh9kkgp-7">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="199.91" y="430" as="sourcePoint" />
            <mxPoint x="569.91" y="430" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="5gK_73Ezw2DlxVh9kkgp-15" value="&lt;b&gt;POST&lt;/b&gt; /api/v1/task/:id/accept&lt;br&gt;ขอรับข้อมูล input file และบันทึกข้อมูล" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="5gK_73Ezw2DlxVh9kkgp-14" vertex="1" connectable="0">
          <mxGeometry x="-0.28" y="1" relative="1" as="geometry">
            <mxPoint x="44" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="5gK_73Ezw2DlxVh9kkgp-27" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="5gK_73Ezw2DlxVh9kkgp-16" target="5gK_73Ezw2DlxVh9kkgp-26" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="5gK_73Ezw2DlxVh9kkgp-28" value="Output: XML" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="5gK_73Ezw2DlxVh9kkgp-27" vertex="1" connectable="0">
          <mxGeometry x="-0.1667" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="5gK_73Ezw2DlxVh9kkgp-16" value="CPSolver" style="text;html=1;strokeColor=default;fillColor=default;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="92.41" y="530" width="105" height="100" as="geometry" />
        </mxCell>
        <mxCell id="5gK_73Ezw2DlxVh9kkgp-17" value="" style="endArrow=classic;html=1;rounded=0;entryX=1.002;entryY=0.911;entryDx=0;entryDy=0;entryPerimeter=0;exitX=-0.002;exitY=0.838;exitDx=0;exitDy=0;exitPerimeter=0;" parent="1" edge="1" target="5gK_73Ezw2DlxVh9kkgp-7" source="5gK_73Ezw2DlxVh9kkgp-11">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="560.91" y="459" as="sourcePoint" />
            <mxPoint x="199.91" y="459" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="5gK_73Ezw2DlxVh9kkgp-18" value="ส่งข้อมูลของไฟล์เป็นรูปแบบ XML" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="5gK_73Ezw2DlxVh9kkgp-17" vertex="1" connectable="0">
          <mxGeometry x="0.0111" y="-3" relative="1" as="geometry">
            <mxPoint y="1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="5gK_73Ezw2DlxVh9kkgp-29" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.25;entryY=1;entryDx=0;entryDy=0;" parent="1" source="5gK_73Ezw2DlxVh9kkgp-26" target="5gK_73Ezw2DlxVh9kkgp-11" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="5gK_73Ezw2DlxVh9kkgp-30" value="&lt;b&gt;POST&lt;/b&gt; /api/v1/task/:id/complete&lt;br&gt;ส่งข้อมูล XML ในรูปแบบ base64" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="5gK_73Ezw2DlxVh9kkgp-29" vertex="1" connectable="0">
          <mxGeometry x="-0.6474" y="2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="RKUPudzzjGdonOOFozhR-1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="5gK_73Ezw2DlxVh9kkgp-26" target="5gK_73Ezw2DlxVh9kkgp-7" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="29.91" y="753" />
              <mxPoint x="29.91" y="408" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="5gK_73Ezw2DlxVh9kkgp-26" value="Post Processing&lt;br&gt;&lt;font style=&quot;font-size: 9px;&quot;&gt;(Bash Script)&lt;/font&gt;" style="text;html=1;strokeColor=default;fillColor=default;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="92.41" y="690" width="105" height="125" as="geometry" />
        </mxCell>
        <mxCell id="5gK_73Ezw2DlxVh9kkgp-36" value="&lt;b&gt;Cronjob&lt;/b&gt;&lt;br&gt;&lt;font style=&quot;font-size: 9px;&quot;&gt;ตรวจสอบสถานะ complete ของ task&lt;br&gt;หากเกิน 1 ชั่วโมงจะนำกลับมาเข้าคิวใหม่&lt;/font&gt;" style="whiteSpace=wrap;html=1;gradientColor=none;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="849.91" y="385" width="170" height="60" as="geometry" />
        </mxCell>
        <mxCell id="5gK_73Ezw2DlxVh9kkgp-40" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="849.91" y="432" as="sourcePoint" />
            <mxPoint x="719.91" y="432" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="5gK_73Ezw2DlxVh9kkgp-42" value="Docker Container" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="92.41" y="260" width="105" height="30" as="geometry" />
        </mxCell>
        <mxCell id="I-0rG0BP2tuT0I2adMxR-2" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=none;dashed=1;" vertex="1" parent="1">
          <mxGeometry x="539.91" y="290" width="510" height="230" as="geometry" />
        </mxCell>
        <mxCell id="I-0rG0BP2tuT0I2adMxR-3" value="Docker Container" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="592.41" y="260" width="105" height="30" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
